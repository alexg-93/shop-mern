{"ast":null,"code":"import { CATEGORY_LIST_REQUEST, CATEGORY_LIST_SUCCESS, CATEGORY_LIST_FAIL, CATEGORY_DETAILS_REQUEST, CATEGORY_DETAILS_SUCCESS, CATEGORY_DETAILS_FAIL, CATEGORY_DELETE_REQUEST, CATEGORY_DELETE_SUCCESS, CATEGORY_DELETE_FAIL, CATEGORY_CREATE_REQUEST, CATEGORY_CREATE_SUCCESS, CATEGORY_CREATE_FAIL, CATEGORY_UPDATE_REQUEST, CATEGORY_UPDATE_SUCCESS, CATEGORY_UPDATE_FAIL } from \"../types\";\nimport axios from \"axios\";\nexport const getCategories = () => async (dispatch, getState) => {\n  try {\n    dispatch({\n      type: CATEGORY_LIST_REQUEST\n    });\n    const {\n      data\n    } = await axios.get(`/api/category`);\n    const {\n      categories\n    } = data;\n    console.log(categories);\n    dispatch({\n      type: CATEGORY_LIST_SUCCESS,\n      payload: categories\n    });\n  } catch (error) {\n    dispatch({\n      type: CATEGORY_LIST_FAIL,\n      payload: error.response && error.response.data.message ? error.response.data.message : error.message\n    });\n  }\n};\nexport const getCategoryDetails = id => async dispatch => {\n  dispatch({\n    type: CATEGORY_DETAILS_REQUEST\n  });\n\n  try {\n    const {\n      data\n    } = await axios.get(`/api/category/${id}`);\n    const {\n      category\n    } = data;\n\n    if (category) {\n      dispatch({\n        type: CATEGORY_DETAILS_SUCCESS,\n        payload: category\n      });\n    } else {\n      dispatch({\n        type: CATEGORY_DETAILS_FAIL,\n        payload: `Error : ${data.message} statusCode ${data.statusCode}`\n      });\n    }\n  } catch (error) {\n    dispatch({\n      type: CATEGORY_DETAILS_FAIL,\n      payload: error.response && error.response.data.message ? error.response.data.message : error.message\n    });\n  }\n};\nexport const deleteCategory = id => async (dispatch, getState) => {\n  try {\n    dispatch({\n      type: CATEGORY_DELETE_REQUEST\n    });\n    const config = {\n      headers: {\n        Authorization: \"\"\n      }\n    };\n    await axios.delete(`/api/category/${id}`, config);\n    dispatch({\n      type: CATEGORY_DELETE_SUCCESS\n    });\n  } catch (error) {\n    dispatch({\n      type: CATEGORY_DELETE_FAIL,\n      payload: error.response && error.response.data.message ? error.response.data.message : error.message\n    });\n  }\n};\nexport const createCategory = newCategory => async (dispatch, getState) => {\n  try {\n    dispatch({\n      type: CATEGORY_CREATE_REQUEST\n    });\n    const config = {\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: \"\"\n      }\n    };\n    const {\n      data\n    } = await axios.post(`/api/category`, newCategory, config);\n    dispatch({\n      type: CATEGORY_CREATE_SUCCESS,\n      payload: data\n    });\n  } catch (error) {\n    dispatch({\n      type: CATEGORY_CREATE_FAIL,\n      payload: error.response && error.response.data.message ? error.response.data.message : error.message\n    });\n  }\n};\nexport const editCategory = currentCategory => async (dispatch, getState) => {\n  try {\n    dispatch({\n      type: CATEGORY_UPDATE_REQUEST\n    });\n    const config = {\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: \"\"\n      }\n    };\n    const {\n      data\n    } = await axios.put(`/api/category/${currentCategory._id}`, currentCategory, config);\n\n    if (data) {\n      dispatch({\n        type: CATEGORY_UPDATE_SUCCESS\n      });\n      dispatch({\n        type: CATEGORY_DETAILS_SUCCESS,\n        payload: data\n      });\n    }\n  } catch (error) {\n    dispatch({\n      type: CATEGORY_UPDATE_FAIL,\n      payload: error.response && error.response.data.message ? error.response.data.message : error.message\n    });\n  }\n};","map":{"version":3,"sources":["/Users/alex/Documents/web/react/store/client/src/redux/actions/categoryActions.js"],"names":["CATEGORY_LIST_REQUEST","CATEGORY_LIST_SUCCESS","CATEGORY_LIST_FAIL","CATEGORY_DETAILS_REQUEST","CATEGORY_DETAILS_SUCCESS","CATEGORY_DETAILS_FAIL","CATEGORY_DELETE_REQUEST","CATEGORY_DELETE_SUCCESS","CATEGORY_DELETE_FAIL","CATEGORY_CREATE_REQUEST","CATEGORY_CREATE_SUCCESS","CATEGORY_CREATE_FAIL","CATEGORY_UPDATE_REQUEST","CATEGORY_UPDATE_SUCCESS","CATEGORY_UPDATE_FAIL","axios","getCategories","dispatch","getState","type","data","get","categories","console","log","payload","error","response","message","getCategoryDetails","id","category","statusCode","deleteCategory","config","headers","Authorization","delete","createCategory","newCategory","post","editCategory","currentCategory","put","_id"],"mappings":"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","sourcesContent":["import {\n    CATEGORY_LIST_REQUEST,\n    CATEGORY_LIST_SUCCESS,\n    CATEGORY_LIST_FAIL,\n  \n    CATEGORY_DETAILS_REQUEST,\n    CATEGORY_DETAILS_SUCCESS,\n    CATEGORY_DETAILS_FAIL,\n  \n    CATEGORY_DELETE_REQUEST,\n    CATEGORY_DELETE_SUCCESS,\n    CATEGORY_DELETE_FAIL,\n  \n    CATEGORY_CREATE_REQUEST,\n    CATEGORY_CREATE_SUCCESS,\n    CATEGORY_CREATE_FAIL,\n  \n    CATEGORY_UPDATE_REQUEST,\n    CATEGORY_UPDATE_SUCCESS,\n    CATEGORY_UPDATE_FAIL,\n  \n  } from \"../types\";\n  import axios from \"axios\";\n  \n  \n  \n  export const getCategories = () => async (dispatch,getState) => {\n    \n      try {\n         \n              dispatch({type: CATEGORY_LIST_REQUEST})\n              const { data } = await axios.get(`/api/category`);\n              const {categories} = data\n              console.log(categories)\n             \n              dispatch({\n                type: CATEGORY_LIST_SUCCESS,\n                payload: categories\n               \n              });\n           \n            \n      \n    } catch (error) {\n        dispatch({\n            type:CATEGORY_LIST_FAIL,\n            payload: error.response && error.response.data.message ? error.response.data.message : error.message\n        })\n    }\n  };\n  \n  export const getCategoryDetails = (id) => async(dispatch)=>{\n      dispatch({type: CATEGORY_DETAILS_REQUEST})\n      try {\n  \n          const { data } = await axios.get(`/api/category/${id}`);\n          const {category} = data\n          if(category){\n\n              dispatch({\n                  type: CATEGORY_DETAILS_SUCCESS,\n                  payload: category\n                });\n              \n          }else{\n              dispatch({\n                  type:CATEGORY_DETAILS_FAIL,\n                  payload:`Error : ${data.message} statusCode ${data.statusCode}`\n              })\n          }\n        } catch (error) {\n            dispatch({\n                type:CATEGORY_DETAILS_FAIL,\n                payload: error.response && error.response.data.message ? error.response.data.message : error.message\n            })\n        }\n  }\n  \n  export const deleteCategory = (id) => async (dispatch,getState) => {\n      try {\n        dispatch({\n          type: CATEGORY_DELETE_REQUEST\n        });\n    \n        const config = {\n            headers: {\n              Authorization:\"\"\n            },\n          };\n      \n          await axios.delete(`/api/category/${id}`,config);\n        \n            dispatch({\n              type: CATEGORY_DELETE_SUCCESS\n            });\n    \n           \n      } catch (error) {\n        dispatch({\n            type: CATEGORY_DELETE_FAIL,\n            payload:\n              error.response && error.response.data.message\n                ? error.response.data.message\n                : error.message,\n          });\n      }\n    };\n  \n  \n    export const createCategory = (newCategory) => async (dispatch,getState) => {\n      try {\n        dispatch({\n          type: CATEGORY_CREATE_REQUEST\n        });\n    \n      \n        const config = {\n            headers: {\n              \"Content-Type\": \"application/json\",\n              Authorization:\"\"\n            },\n          };\n    \n          const { data } = await axios.post(\n            `/api/category`,newCategory,\n            config\n          );\n          \n            dispatch({\n              type: CATEGORY_CREATE_SUCCESS,\n              payload: data,\n            });\n     \n      } catch (error) {\n        dispatch({\n            type: CATEGORY_CREATE_FAIL,\n            payload:\n              error.response && error.response.data.message\n                ? error.response.data.message\n                : error.message,\n          });\n      }\n    };\n  \n  \n  export const editCategory = (currentCategory) => async (dispatch,getState) => {\n    try {\n      dispatch({\n        type: CATEGORY_UPDATE_REQUEST\n      });\n  \n  \n      const config = {\n          headers: {\n            \"Content-Type\": \"application/json\",\n            Authorization:\"\"\n          },\n        };\n  \n      const {data} = await axios.put(`/api/category/${currentCategory._id}`,currentCategory,config);\n   \n        if(data){\n          dispatch({\n            type: CATEGORY_UPDATE_SUCCESS,\n          });\n          dispatch({\n            type: CATEGORY_DETAILS_SUCCESS,\n            payload:data\n          });\n   \n        }\n  \n    } catch (error) {\n      dispatch({\n          type: CATEGORY_UPDATE_FAIL,\n          payload:\n            error.response && error.response.data.message\n              ? error.response.data.message\n              : error.message,\n        });\n    }\n  };\n  "]},"metadata":{},"sourceType":"module"}