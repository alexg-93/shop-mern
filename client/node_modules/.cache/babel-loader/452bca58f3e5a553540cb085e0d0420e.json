{"ast":null,"code":"var _jsxFileName = \"/Users/alex/Documents/web/react/store/client/src/screens/HomeScreen.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport { Row, Col, Button, Form } from \"react-bootstrap\";\nimport Product from \"../components/Product\";\nimport Message from \"../components/Message\";\nimport Loader from \"../components/Loader\";\nimport Paginate from \"../components/Paginate\";\nimport { listProducts } from \"../redux/actions/productActions\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { Helmet } from \"react-helmet\";\nimport OffCanvas from \"../components/OffCanvas\";\nimport { Route } from \"react-router-dom\";\nimport SearchBox from \"../components/SearchBox\";\nimport { openFilter } from \"../redux/actions/filterActions\"; // import { sortProductsAsc, sortProductsDesc } from \"../redux/actions/productActions\";\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst HomeScreen = _ref => {\n  _s();\n\n  let {\n    match,\n    history\n  } = _ref;\n  const keywordSearch = match.params.keyword;\n  const pageNumber = match.params.pageNumber || 1;\n  const dispatch = useDispatch();\n  const productListReducer = useSelector(state => state.productListReducer);\n  const {\n    loading,\n    error,\n    products: allProducts,\n    pages,\n    sort: sortType\n  } = productListReducer;\n  const filterReducer = useSelector(state => state.filterReducer);\n  const {\n    show\n  } = filterReducer;\n  const [sort, setSort] = useState(sortType);\n  useEffect(() => {\n    dispatch(listProducts(keywordSearch, pageNumber, sort));\n  }, [dispatch, keywordSearch, pageNumber, sort]);\n  const pageSize = 6;\n  const indexOfLastProduct = pageNumber * pageSize;\n  const indexOfFirstProduct = indexOfLastProduct - pageSize;\n  let products = allProducts.slice(indexOfFirstProduct, indexOfLastProduct);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Helmet, {\n      children: /*#__PURE__*/_jsxDEV(\"title\", {\n        children: \"Welcome to eCommerce Shop | Home\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 7\n    }, this), loading ? /*#__PURE__*/_jsxDEV(Loader, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 9\n    }, this) : error ? /*#__PURE__*/_jsxDEV(Message, {\n      variant: \"danger\",\n      text: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [!keywordSearch && /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(Row, {\n          lg: 3,\n          md: 2,\n          xs: 1,\n          me: \"auto\",\n          className: \"d-flex justify-content-center\",\n          children: /*#__PURE__*/_jsxDEV(Route, {\n            render: _ref2 => {\n              let {\n                history\n              } = _ref2;\n              return /*#__PURE__*/_jsxDEV(SearchBox, {\n                history: history\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 72,\n                columnNumber: 44\n              }, this);\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 71,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(Col, {\n          className: \"d-grid gap-1 mt-3\",\n          lg: 1,\n          md: 2,\n          xs: 4,\n          children: [/*#__PURE__*/_jsxDEV(Form.Select, {\n            \"aria-label\": \"Default\",\n            onChange: e => {\n              setSort(e.target.value);\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              children: \"sort\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 80,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"asc\",\n              children: \"Asc\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 82,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"desc\",\n              children: \"Desc\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 83,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"outline-info\",\n            onClick: () => dispatch(openFilter()),\n            children: [\"filter \", /*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"fas fa-filter\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 91,\n              columnNumber: 26\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true), show && /*#__PURE__*/_jsxDEV(OffCanvas, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 20\n      }, this), /*#__PURE__*/_jsxDEV(Row, {\n        className: \"mt-3\",\n        children: products && products.length > 0 ? products.map(product => /*#__PURE__*/_jsxDEV(Col, {\n          sm: 12,\n          md: 6,\n          lg: 4,\n          className: \"mb-3\",\n          children: /*#__PURE__*/_jsxDEV(Product, {\n            product: product\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 103,\n            columnNumber: 19\n          }, this)\n        }, product._id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 17\n        }, this)) : /*#__PURE__*/_jsxDEV(Row, {\n          className: \"d-grid justify-content-center\",\n          md: \"auto\",\n          children: /*#__PURE__*/_jsxDEV(Message, {\n            variant: \"danger\",\n            text: `no results for ${keywordSearch}`\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 108,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Row, {\n        className: \"d-grid justify-content-center\",\n        md: \"auto\",\n        children: /*#__PURE__*/_jsxDEV(Paginate, {\n          pages: pages,\n          page: pageNumber,\n          keyword: keywordSearch ? keywordSearch : \"\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true)]\n  }, void 0, true);\n};\n\n_s(HomeScreen, \"qaJdQ1TPXDVi/R13EZDpZL2kuMs=\", false, function () {\n  return [useDispatch, useSelector, useSelector];\n});\n\n_c = HomeScreen;\nexport default HomeScreen;\n\nvar _c;\n\n$RefreshReg$(_c, \"HomeScreen\");","map":{"version":3,"sources":["/Users/alex/Documents/web/react/store/client/src/screens/HomeScreen.js"],"names":["React","useEffect","useState","Row","Col","Button","Form","Product","Message","Loader","Paginate","listProducts","useDispatch","useSelector","Helmet","OffCanvas","Route","SearchBox","openFilter","HomeScreen","match","history","keywordSearch","params","keyword","pageNumber","dispatch","productListReducer","state","loading","error","products","allProducts","pages","sort","sortType","filterReducer","show","setSort","pageSize","indexOfLastProduct","indexOfFirstProduct","slice","e","target","value","length","map","product","_id"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { Row, Col, Button,Form } from \"react-bootstrap\";\nimport Product from \"../components/Product\";\nimport Message from \"../components/Message\";\nimport Loader from \"../components/Loader\";\nimport Paginate from \"../components/Paginate\";\nimport { listProducts } from \"../redux/actions/productActions\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { Helmet } from \"react-helmet\";\nimport OffCanvas from \"../components/OffCanvas\";\nimport { Route } from \"react-router-dom\";\nimport SearchBox from \"../components/SearchBox\";\n\nimport { openFilter } from \"../redux/actions/filterActions\";\n// import { sortProductsAsc, sortProductsDesc } from \"../redux/actions/productActions\";\n\nconst HomeScreen = ({ match, history }) => {\n\n  const keywordSearch = match.params.keyword;\n  const pageNumber = match.params.pageNumber || 1;\n\n  const dispatch = useDispatch();\n  const productListReducer = useSelector((state) => state.productListReducer);\n const {\n    loading,\n    error,\n    products:allProducts,\n    pages,\n    sort:sortType\n  } = productListReducer;\n\n  const filterReducer = useSelector((state) => state.filterReducer);\n  const { show } = filterReducer;\n\n\n  const [sort,setSort] = useState(sortType)\n\n  useEffect(() => {\n     \n    dispatch(listProducts(keywordSearch, pageNumber ,sort));\n  }, [dispatch,keywordSearch,pageNumber,sort]);\n\n  const pageSize = 6;\n\n  const indexOfLastProduct = pageNumber * pageSize;\n  const indexOfFirstProduct = indexOfLastProduct - pageSize;\n  let products = allProducts.slice(indexOfFirstProduct, indexOfLastProduct)\n\n\n  return (\n    <>\n      <Helmet>\n        <title>Welcome to eCommerce Shop | Home</title>\n      </Helmet>\n\n      {loading ? (\n        <Loader />\n      ) : error ? (\n        <Message variant=\"danger\" text={error} />\n      ) : (\n        <>\n          {!keywordSearch && (\n            <>\n              <Row\n                lg={3}\n                md={2}\n                xs={1}\n                me=\"auto\"\n                className=\"d-flex justify-content-center\"\n              >\n                <Route\n                  render={({ history }) => <SearchBox history={history} />}\n                />\n              </Row>\n\n              <Col className=\"d-grid gap-1 mt-3\" lg={1} md={2} xs={4}>\n            \n              <Form.Select aria-label=\"Default\"  onChange={(e) => {setSort(e.target.value)}}>\n            \n                  <option>sort</option>\n              \n                  <option value='asc'>Asc</option>\n                  <option value='desc'>Desc</option>\n                  \n                </Form.Select>\n               \n                <Button\n                  variant=\"outline-info\"\n                  onClick={() => dispatch(openFilter())}\n                >\n                  filter <i className=\"fas fa-filter\"></i>\n                </Button>\n              </Col>\n            </>\n          )}\n\n          {show && <OffCanvas />}\n\n          <Row className=\"mt-3\">\n            {products && products.length > 0 ? (\n              products.map((product) => (\n                <Col key={product._id} sm={12} md={6} lg={4} className=\"mb-3\">\n                  <Product product={product} />\n                </Col>\n              ))\n            ) : (\n              <Row className=\"d-grid justify-content-center\" md=\"auto\">\n                <Message\n                  variant=\"danger\"\n                  text={`no results for ${keywordSearch}`}\n                />\n              </Row>\n            )}\n            \n          </Row>\n          <Row className=\"d-grid justify-content-center\" md=\"auto\">\n            <Paginate\n              pages={pages}\n              page={pageNumber}\n              keyword={keywordSearch ? keywordSearch : \"\"}\n            \n            />\n          </Row>\n        </>\n      )}\n    </>\n  );\n};\n\nexport default HomeScreen;\n"]},"metadata":{},"sourceType":"module"}