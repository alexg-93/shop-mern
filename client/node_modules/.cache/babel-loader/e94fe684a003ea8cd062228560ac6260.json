{"ast":null,"code":"import { CART_ADD_ITEM, CART_REMOVED_ITEM, CART_SAVE_SHIPPING_ADDRESS, CART_SAVE_PAYMENT_METHOD } from \"../types\";\nimport axios from 'axios';\nexport const addToCart = (id, qty) => async (dispatch, getState) => {\n  const {\n    data\n  } = await axios.get(`/api/products/${id}`);\n  const {\n    _id,\n    name,\n    image,\n    price,\n    countInStock\n  } = data.product;\n  dispatch({\n    type: CART_ADD_ITEM,\n    payload: {\n      product: _id,\n      name: name,\n      image: image,\n      price: price,\n      countInStock: countInStock,\n      qty: qty\n    }\n  });\n  localStorage.setItem('cartItems', JSON.stringify(getState().cart.cartItems));\n};\nexport const removeFromCart = id => (dispatch, getState) => {\n  dispatch({\n    type: CART_REMOVED_ITEM,\n    payload: id\n  });\n  localStorage.setItem('cartItems', JSON.stringify(getState().cart.cartItems));\n};\nexport const saveShippingAddress = data => dispatch => {\n  dispatch({\n    type: CART_SAVE_SHIPPING_ADDRESS,\n    payload: data\n  });\n  localStorage.setItem('shippingAddress', JSON.stringify(data));\n};\nexport const savePaymentMethod = method => dispatch => {\n  dispatch({\n    type: CART_SAVE_PAYMENT_METHOD,\n    payload: method\n  });\n  localStorage.setItem('paymentMethod', JSON.stringify(method));\n};","map":{"version":3,"sources":["/Users/alex/Documents/web/react/store/client/src/redux/actions/cartActions.js"],"names":["CART_ADD_ITEM","CART_REMOVED_ITEM","CART_SAVE_SHIPPING_ADDRESS","CART_SAVE_PAYMENT_METHOD","axios","addToCart","id","qty","dispatch","getState","data","get","_id","name","image","price","countInStock","product","type","payload","localStorage","setItem","JSON","stringify","cart","cartItems","removeFromCart","saveShippingAddress","savePaymentMethod","method"],"mappings":"AAAA,SACIA,aADJ,EAEIC,iBAFJ,EAGIC,0BAHJ,EAIIC,wBAJJ,QAMW,UANX;AAQA,OAAOC,KAAP,MAAkB,OAAlB;AAGA,OAAO,MAAMC,SAAS,GAAG,CAACC,EAAD,EAAIC,GAAJ,KAAW,OAAMC,QAAN,EAAeC,QAAf,KAA0B;AAC1D,QAAM;AAACC,IAAAA;AAAD,MAAS,MAAMN,KAAK,CAACO,GAAN,CAAW,iBAAgBL,EAAG,EAA9B,CAArB;AACA,QAAM;AAACM,IAAAA,GAAD;AAAKC,IAAAA,IAAL;AAAUC,IAAAA,KAAV;AAAgBC,IAAAA,KAAhB;AAAsBC,IAAAA;AAAtB,MAAsCN,IAAI,CAACO,OAAjD;AACAT,EAAAA,QAAQ,CAAC;AACLU,IAAAA,IAAI,EAAClB,aADA;AAELmB,IAAAA,OAAO,EAAE;AACPF,MAAAA,OAAO,EAAEL,GADF;AAEPC,MAAAA,IAAI,EAACA,IAFE;AAGPC,MAAAA,KAAK,EAACA,KAHC;AAIPC,MAAAA,KAAK,EAACA,KAJC;AAKPC,MAAAA,YAAY,EAACA,YALN;AAMPT,MAAAA,GAAG,EAAEA;AANE;AAFJ,GAAD,CAAR;AAYAa,EAAAA,YAAY,CAACC,OAAb,CAAqB,WAArB,EAAiCC,IAAI,CAACC,SAAL,CAAed,QAAQ,GAAGe,IAAX,CAAgBC,SAA/B,CAAjC;AAEH,CAjBM;AAmBP,OAAO,MAAMC,cAAc,GAAIpB,EAAD,IAAO,CAACE,QAAD,EAAUC,QAAV,KAAqB;AACtDD,EAAAA,QAAQ,CAAC;AACLU,IAAAA,IAAI,EAACjB,iBADA;AAELkB,IAAAA,OAAO,EAACb;AAFH,GAAD,CAAR;AAIAc,EAAAA,YAAY,CAACC,OAAb,CAAqB,WAArB,EAAiCC,IAAI,CAACC,SAAL,CAAed,QAAQ,GAAGe,IAAX,CAAgBC,SAA/B,CAAjC;AAEH,CAPM;AASP,OAAO,MAAME,mBAAmB,GAAIjB,IAAD,IAAUF,QAAD,IAAY;AACpDA,EAAAA,QAAQ,CAAC;AACLU,IAAAA,IAAI,EAAChB,0BADA;AAELiB,IAAAA,OAAO,EAACT;AAFH,GAAD,CAAR;AAIAU,EAAAA,YAAY,CAACC,OAAb,CAAqB,iBAArB,EAAuCC,IAAI,CAACC,SAAL,CAAeb,IAAf,CAAvC;AAEH,CAPM;AASP,OAAO,MAAMkB,iBAAiB,GAAIC,MAAD,IAAYrB,QAAD,IAAY;AACpDA,EAAAA,QAAQ,CAAC;AACLU,IAAAA,IAAI,EAACf,wBADA;AAELgB,IAAAA,OAAO,EAACU;AAFH,GAAD,CAAR;AAIAT,EAAAA,YAAY,CAACC,OAAb,CAAqB,eAArB,EAAqCC,IAAI,CAACC,SAAL,CAAeM,MAAf,CAArC;AAEH,CAPM","sourcesContent":["import {\n    CART_ADD_ITEM,\n    CART_REMOVED_ITEM,\n    CART_SAVE_SHIPPING_ADDRESS,\n    CART_SAVE_PAYMENT_METHOD,\n    \n    } from \"../types\";\n\nimport axios from 'axios'\n\n\nexport const addToCart = (id,qty) =>async(dispatch,getState)=>{\n    const {data} = await axios.get(`/api/products/${id}`)\n    const {_id,name,image,price,countInStock} = data.product;\n    dispatch({\n        type:CART_ADD_ITEM,\n        payload: {\n          product: _id,\n          name:name,\n          image:image,\n          price:price,\n          countInStock:countInStock,\n          qty: qty\n        }\n    })\n\n    localStorage.setItem('cartItems',JSON.stringify(getState().cart.cartItems))\n\n}\n\nexport const removeFromCart = (id) =>(dispatch,getState)=>{\n    dispatch({\n        type:CART_REMOVED_ITEM,\n        payload:id\n    })\n    localStorage.setItem('cartItems',JSON.stringify(getState().cart.cartItems))\n\n}\n\nexport const saveShippingAddress = (data) =>(dispatch)=>{\n    dispatch({\n        type:CART_SAVE_SHIPPING_ADDRESS,\n        payload:data\n    })\n    localStorage.setItem('shippingAddress',JSON.stringify(data))\n\n}\n\nexport const savePaymentMethod = (method) =>(dispatch)=>{\n    dispatch({\n        type:CART_SAVE_PAYMENT_METHOD,\n        payload:method\n    })\n    localStorage.setItem('paymentMethod',JSON.stringify(method))\n\n}\n\n"]},"metadata":{},"sourceType":"module"}